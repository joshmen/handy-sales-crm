-- Full scan of ALL tables and ALL text columns for double-encoded UTF-8
-- Pattern C383C2 is the hex signature of double-encoded Spanish characters

SELECT 'Productos.nombre' as campo, COUNT(*) as rotos FROM Productos WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'Productos.descripcion', COUNT(*) FROM Productos WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'Productos.codigo_barra', COUNT(*) FROM Productos WHERE HEX(codigo_barra) LIKE '%C383C2%'
UNION ALL SELECT 'Clientes.nombre', COUNT(*) FROM Clientes WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'Clientes.direccion', COUNT(*) FROM Clientes WHERE HEX(direccion) LIKE '%C383C2%'
UNION ALL SELECT 'Clientes.telefono', COUNT(*) FROM Clientes WHERE HEX(telefono) LIKE '%C383C2%'
UNION ALL SELECT 'Clientes.correo', COUNT(*) FROM Clientes WHERE HEX(correo) LIKE '%C383C2%'
UNION ALL SELECT 'Clientes.rfc', COUNT(*) FROM Clientes WHERE HEX(rfc) LIKE '%C383C2%'
UNION ALL SELECT 'CategoriasProductos.nombre', COUNT(*) FROM CategoriasProductos WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'CategoriasProductos.descripcion', COUNT(*) FROM CategoriasProductos WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'CategoriasClientes.nombre', COUNT(*) FROM CategoriasClientes WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'CategoriasClientes.descripcion', COUNT(*) FROM CategoriasClientes WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'FamiliasProductos.nombre', COUNT(*) FROM FamiliasProductos WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'FamiliasProductos.descripcion', COUNT(*) FROM FamiliasProductos WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'Zonas.nombre', COUNT(*) FROM Zonas WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'Zonas.descripcion', COUNT(*) FROM Zonas WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'UnidadesMedida.nombre', COUNT(*) FROM UnidadesMedida WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'UnidadesMedida.abreviatura', COUNT(*) FROM UnidadesMedida WHERE HEX(abreviatura) LIKE '%C383C2%'
UNION ALL SELECT 'Promociones.nombre', COUNT(*) FROM Promociones WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'Promociones.descripcion', COUNT(*) FROM Promociones WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'ListasPrecios.nombre', COUNT(*) FROM ListasPrecios WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'ListasPrecios.descripcion', COUNT(*) FROM ListasPrecios WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'Usuarios.nombre', COUNT(*) FROM Usuarios WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'Usuarios.email', COUNT(*) FROM Usuarios WHERE HEX(email) LIKE '%C383C2%'
UNION ALL SELECT 'Pedidos.notas', COUNT(*) FROM Pedidos WHERE HEX(notas) LIKE '%C383C2%'
UNION ALL SELECT 'Pedidos.direccion_entrega', COUNT(*) FROM Pedidos WHERE HEX(direccion_entrega) LIKE '%C383C2%'
UNION ALL SELECT 'Pedidos.numero_pedido', COUNT(*) FROM Pedidos WHERE HEX(numero_pedido) LIKE '%C383C2%'
UNION ALL SELECT 'DetallePedidos.notas', COUNT(*) FROM DetallePedidos WHERE HEX(notas) LIKE '%C383C2%'
UNION ALL SELECT 'Tenants.nombre_empresa', COUNT(*) FROM Tenants WHERE HEX(nombre_empresa) LIKE '%C383C2%'
UNION ALL SELECT 'Tenants.contacto', COUNT(*) FROM Tenants WHERE HEX(contacto) LIKE '%C383C2%'
UNION ALL SELECT 'MovimientosInventario.motivo', COUNT(*) FROM MovimientosInventario WHERE HEX(motivo) LIKE '%C383C2%'
UNION ALL SELECT 'MovimientosInventario.comentario', COUNT(*) FROM MovimientosInventario WHERE HEX(comentario) LIKE '%C383C2%'
UNION ALL SELECT 'Cobros.notas', COUNT(*) FROM Cobros WHERE HEX(notas) LIKE '%C383C2%'
UNION ALL SELECT 'Cobros.referencia', COUNT(*) FROM Cobros WHERE HEX(referencia) LIKE '%C383C2%'
UNION ALL SELECT 'RutasVendedor.nombre', COUNT(*) FROM RutasVendedor WHERE HEX(nombre) LIKE '%C383C2%'
UNION ALL SELECT 'RutasVendedor.descripcion', COUNT(*) FROM RutasVendedor WHERE HEX(descripcion) LIKE '%C383C2%'
UNION ALL SELECT 'RutasVendedor.notas', COUNT(*) FROM RutasVendedor WHERE HEX(notas) LIKE '%C383C2%'
UNION ALL SELECT 'RutasVendedor.motivo_cancelacion', COUNT(*) FROM RutasVendedor WHERE HEX(motivo_cancelacion) LIKE '%C383C2%'
UNION ALL SELECT 'RutasVendedor.comentarios_carga', COUNT(*) FROM RutasVendedor WHERE HEX(comentarios_carga) LIKE '%C383C2%'
UNION ALL SELECT 'ClienteVisitas.notas', COUNT(*) FROM ClienteVisitas WHERE HEX(notas) LIKE '%C383C2%'
UNION ALL SELECT 'ClienteVisitas.notas_privadas', COUNT(*) FROM ClienteVisitas WHERE HEX(notas_privadas) LIKE '%C383C2%';
