# =============================================================
# HandySales — Production Environment Variables Template
# =============================================================
# INSTRUCTIONS:
# 1. Copy this file and fill in real values
# 2. NEVER commit real values to git
# 3. Set these in Vercel Dashboard / Railway Dashboard
# =============================================================

# =====================
# FRONTEND (Vercel)
# =====================
NEXTAUTH_URL=https://app.handycrm.com
NEXTAUTH_SECRET=                          # Generate: openssl rand -base64 32
NEXT_PUBLIC_API_URL=https://api.handycrm.com
NEXT_PUBLIC_BILLING_API_URL=https://billing.handycrm.com
NODE_ENV=production
NEXT_PUBLIC_ENV=production
SOCIAL_LOGIN_SECRET=                      # Must match JWT__SecretKey on Railway (shared secret for social login/register)
GOOGLE_CLIENT_ID=                         # From Google Cloud Console → APIs & Services → Credentials → OAuth 2.0
GOOGLE_CLIENT_SECRET=                     # Same place. Optional — if not set, Google OAuth is disabled

# =====================
# MAIN API (Railway)
# =====================
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:${PORT}          # Railway assigns PORT dynamically
ConnectionStrings__DefaultConnection=Server=${MYSQL_HOST};Port=3306;Database=handy_erp;User=${MYSQL_USER};Password=${MYSQL_PASSWORD};AllowUserVariables=true;ConnectionTimeout=60;DefaultCommandTimeout=60;CharSet=utf8mb4;Pooling=true;MinimumPoolSize=5;MaximumPoolSize=50;ConnectionLifeTime=300;SslMode=Required;
JWT__SecretKey=                            # Generate: openssl rand -base64 64
JWT__Issuer=HandySales
JWT__Audience=HandySalesUsers
JWT__ExpirationHours=24
Multitenancy__DefaultTenantId=00000000-0000-0000-0000-000000000001
Multitenancy__DefaultTenantName=Default
Cloudinary__CloudName=                     # Optional: for file uploads
Cloudinary__ApiKey=
Cloudinary__ApiSecret=
Seq__ServerUrl=                            # Optional: for centralized logging
SENDGRID_API_KEY=                          # From SendGrid dashboard → Settings → API Keys
SENDGRID_FROM_EMAIL=                       # Must be a verified sender in SendGrid (e.g. noreply@handysuites.com)
SENDGRID_FROM_NAME=Handy Suites            # Display name in verification emails

# =====================
# BILLING API (Railway)
# =====================
# ASPNETCORE_ENVIRONMENT=Production
# ASPNETCORE_URLS=http://+:${PORT}
ConnectionStrings__BillingConnection=Server=${MYSQL_HOST};Port=3306;Database=handy_billing;User=${MYSQL_USER};Password=${MYSQL_PASSWORD};AllowUserVariables=true;ConnectionTimeout=60;DefaultCommandTimeout=60;SslMode=Required;
ConnectionStrings__MainConnection=Server=${MYSQL_HOST};Port=3306;Database=handy_erp;User=${MYSQL_USER};Password=${MYSQL_PASSWORD};AllowUserVariables=true;ConnectionTimeout=60;DefaultCommandTimeout=60;SslMode=Required;
# JWT__SecretKey=                          # Same as Main API
SAT__CertificadoPath=/app/certificates
SAT__WebServiceUrl=https://consultaqr.facturaelectronica.sat.gob.mx/ConsultaCFDIService.svc

# =====================
# MOBILE API (Railway)
# =====================
# Same variables as Main API

# =====================
# MYSQL (Railway)
# =====================
MYSQL_ROOT_PASSWORD=                       # Railway generates automatically
MYSQL_DATABASE=handy_erp
# Note: Railway MySQL provides connection string via MYSQL_URL variable
# Parse it to extract host, port, user, password for .NET connection strings

# =====================
# DOMAINS (Custom)
# =====================
# Frontend:     app.handycrm.com     → Vercel
# Main API:     api.handycrm.com     → Railway (api_main service)
# Billing API:  billing.handycrm.com → Railway (api_billing service)
# Mobile API:   mobile.handycrm.com  → Railway (api_mobile service)
